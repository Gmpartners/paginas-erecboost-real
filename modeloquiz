<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quiz Saúde Masculina</title>
    <style>
        /* Estilos melhorados para a seção de notícias */
.news-container {
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.news-header {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
    text-align: center;
    flex-direction: column;
    gap: 15px;
}

.news-logo {
    margin-bottom: 10px;
}

.news-logo-img {
    height: 30px;
    object-fit: contain;
}

.news-meta {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.news-source {
    font-size: 1.2rem;
    font-weight: 600;
    color: #1a3c6d;
}

.news-date {
    font-size: 0.9rem;
    color: #666;
}

.news-headline {
    font-size: 2rem;
    line-height: 1.3;
    color: #1a3c6d;
    margin-bottom: 25px;
    font-weight: 700;
    text-align: center;
    padding: 0 20px;
}

.news-share {
    text-align: center;
    margin: 20px auto;
    background: #f8f9fa;
    padding: 10px 20px;
    border-radius: 20px;
    display: inline-block;
    font-size: 0.9rem;
    color: #666;
}

.news-hero {
    margin: 30px 0;
    text-align: center;
}

.hero-img {
    width: 100%;
    max-width: 800px;
    border-radius: 12px;
    margin-bottom: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

figcaption {
    font-size: 0.9rem;
    color: #666;
    text-align: center;
    font-style: italic;
}

.key-points {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 12px;
    margin: 30px auto;
    max-width: 700px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.key-points h3 {
    color: #1a3c6d;
    margin-bottom: 20px;
    text-align: center;
    font-size: 1.3rem;
}

.key-points ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.key-points li {
    margin-bottom: 12px;
    padding-left: 30px;
    position: relative;
    font-size: 1rem;
    line-height: 1.5;
}

.key-points li:before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #2ecc71;
    font-weight: bold;
}

.news-excerpt {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #333;
    margin: 30px auto;
    max-width: 700px;
    text-align: center;
    padding: 0 20px;
}

.research-highlight {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin: 40px auto;
    max-width: 700px;
    padding: 0 20px;
}

.stat-circle {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    border: 2px solid #2b5876;
    transition: transform 0.3s ease;
}

.stat-circle:hover {
    transform: translateY(-5px);
}

.stat-number {
    font-size: 1.8rem;
    font-weight: 700;
    color: #2b5876;
    margin-bottom: 5px;
}

.stat-label {
    font-size: 0.9rem;
    color: #666;
    line-height: 1.3;
}

.expert-quote {
    border-left: 4px solid #2b5876;
    padding: 25px;
    background: #f8f9fa;
    margin: 40px auto;
    max-width: 700px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.expert-quote p {
    font-size: 1.1rem;
    color: #333;
    font-style: italic;
    margin-bottom: 15px;
    line-height: 1.6;
}

.expert-quote cite {
    color: #666;
    font-style: normal;
    font-size: 0.9rem;
    display: block;
    text-align: right;
}

.study-results {
    margin: 40px auto;
    max-width: 700px;
    padding: 0 20px;
}

.study-results h3 {
    color: #1a3c6d;
    margin-bottom: 25px;
    text-align: center;
    font-size: 1.3rem;
}

.result-bars {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.result-bar {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 12px;
}

.bar-label {
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: 10px;
    color: #333;
}

.bar-track {
    height: 25px;
    background: #e9ecef;
    border-radius: 12px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #2b5876 0%, #4e4376 100%);
    border-radius: 12px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: width 1s ease;
}

.testimonial-section {
    margin: 40px auto;
    max-width: 700px;
    padding: 0 20px;
}

.testimonial-section h3 {
    color: #1a3c6d;
    margin-bottom: 25px;
    text-align: center;
    font-size: 1.3rem;
}

.testimonial-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.testimonial-card {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    transition: transform 0.3s ease;
}

.testimonial-card:hover {
    transform: translateY(-5px);
}

.testimonial-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.testimonial-img {
    width: 60px;
    height: 60px;
    border-radius: 30px;
    object-fit: cover;
}

.testimonial-info {
    flex: 1;
}

.testimonial-info strong {
    display: block;
    margin-bottom: 5px;
    color: #333;
    font-size: 1rem;
}

.rating {
    color: #ffd700;
    font-size: 1rem;
}

/* Responsividade */
@media (max-width: 768px) {
    .news-headline {
        font-size: 1.5rem;
        padding: 0 15px;
    }

    .research-highlight {
        grid-template-columns: 1fr;
    }

    .testimonial-grid {
        grid-template-columns: 1fr;
    }

    .key-points {
        margin: 20px 15px;
    }

    .expert-quote {
        margin: 20px 15px;
        padding: 20px;
    }

    .stat-circle {
        padding: 15px;
    }

    .stat-number {
        font-size: 1.5rem;
    }
}

@media (max-width: 480px) {
    .news-headline {
        font-size: 1.3rem;
    }

    .news-container {
        padding: 15px;
    }

    .testimonial-card {
        padding: 15px;
    }

    .testimonial-img {
        width: 50px;
        height: 50px;
    }
}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Montserrat', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            min-height: 100vh;
            min-height: -webkit-fill-available;
            background: linear-gradient(135deg, #1a3c6d 0%, #2b5876 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 12px;
            color: #333;
            touch-action: manipulation;
        }

        html {
            height: -webkit-fill-available;
        }

        .quiz-container {
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            overflow-x: hidden;
            position: relative;
        }

        .progress-container {
            margin-bottom: 20px;
            padding: 0 4px;
        }

        .progress-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #2b5876 0%, #4e4376 100%);
            border-radius: 8px;
            transition: width 0.3s ease;
        }

        .question-container {
            text-align: center;
            padding: 0 8px;
        }

        .question {
            font-size: 1.25rem;
            color: #1a3c6d;
            margin-bottom: 16px;
            line-height: 1.3;
            font-weight: 700;
        }

        .subtitle {
            color: #666;
            margin-bottom: 24px;
            font-size: 0.95rem;
            line-height: 1.4;
            padding: 0 8px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-bottom: 20px;
            padding: 0 4px;
        }

        .option-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            min-height: 72px;
            user-select: none;
        }

        .option-card:active {
            transform: scale(0.98);
        }

        .option-card.selected {
            background: #2b5876;
            border-color: #2b5876;
            color: white;
        }

        .option-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
        }

        .option-icon {
            font-size: 1.8rem;
            min-width: 40px;
        }

        .option-text {
            font-size: 1rem;
            font-weight: 500;
            text-align: left;
            flex: 1;
        }

        .next-btn {
            background: linear-gradient(90deg, #2b5876 0%, #4e4376 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin: 16px auto;
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }

        .next-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .next-btn:active {
            transform: scale(0.98);
        }

        .success-story {
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            margin: 16px 4px;
        }

        .success-icon {
            font-size: 2rem;
            color: #2b5876;
            margin-bottom: 12px;
        }

        .success-text {
            font-size: 1rem;
            color: #333;
            line-height: 1.4;
            margin-bottom: 16px;
        }

        .success-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 12px;
            margin: 16px auto;
            display: block;
        }

        /* News Section Styles */
        .news-container {
            padding: 0 4px;
        }

        .news-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #eee;
        }

        .news-logo-img {
            height: 16px;
            margin-right: 12px;
        }

        .news-meta {
            flex: 1;
        }

        .news-source {
            font-size: 1rem;
            font-weight: 600;
            color: #1a3c6d;
            display: block;
        }

        .news-date {
            font-size: 0.8rem;
            color: #666;
            margin-top: 4px;
        }

        .news-headline {
            font-size: 1.4rem;
            line-height: 1.3;
            color: #1a3c6d;
            margin-bottom: 16px;
            font-weight: 700;
        }

        .news-share {
            font-size: 0.9rem;
            color: #666;
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 20px;
            margin-bottom: 16px;
        }

        .news-hero {
            margin-bottom: 24px;
        }

        .hero-img {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 8px;
        }

        figcaption {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        .key-points {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
        }

        .key-points h3 {
            color: #1a3c6d;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .key-points ul {
            list-style: none;
        }

        .key-points li {
            margin-bottom: 8px;
            padding-left: 24px;
            position: relative;
            font-size: 0.95rem;
        }

        .key-points li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: bold;
        }

        .research-highlight {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
            margin: 24px 0;
        }

        .stat-circle {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            border: 2px solid #2b5876;
            text-align: center;
        }

        .stat-number {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2b5876;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #666;
            margin-top: 4px;
        }

        .expert-quote {
            border-left: 4px solid #2b5876;
            padding: 16px;
            background: #f8f9fa;
            margin: 20px 0;
            font-size: 0.95rem;
        }

        .expert-quote p {
            margin-bottom: 8px;
            font-style: italic;
        }

        .expert-quote cite {
            color: #666;
            font-style: normal;
            font-size: 0.9rem;
        }

        .study-results {
            margin: 24px 0;
        }

        .study-results h3 {
            color: #1a3c6d;
            margin-bottom: 16px;
            font-size: 1.1rem;
        }

        .result-bars {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .result-bar {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .bar-label {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .bar-track {
            height: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #2b5876 0%, #4e4376 100%);
            border-radius: 8px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 0.8rem;
            font-weight: 600;
            transition: width 0.8s ease;
        }

        .testimonial-section {
            margin-top: 24px;
        }

        .testimonial-section h3 {
            color: #1a3c6d;
            margin-bottom: 16px;
            font-size: 1.1rem;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .testimonial-card {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 12px;
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .testimonial-img {
            width: 48px;
            height: 48px;
            border-radius: 24px;
        }

        .testimonial-info strong {
            font-size: 0.9rem;
        }

        .rating {
            color: #ffd700;
            font-size: 0.8rem;
            margin-top: 2px;
        }

        @media (min-width: 768px) {
            .quiz-container {
                padding: 32px;
                max-width: 800px;
            }

            .question {
                font-size: 1.6rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .options-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .option-card {
                flex-direction: column;
                text-align: center;
                padding: 24px;
            }

            .option-image {
                width: 80px;
                height: 80px;
            }

            .option-text {
                text-align: center;
            }

            .testimonial-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .news-headline {
                font-size: 1.8rem;
            }

            .research-highlight {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 12px;
            }

            .question {
                font-size: 1.2rem;
            }

            .subtitle {
                font-size: 0.9rem;
            }

            .option-card {
                padding: 12px;
            }

            .next-btn {
                font-size: 1rem;
                padding: 14px;
            }
        }

        @media (hover: hover) {
            .option-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }

            .next-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(43,88,118,0.2);
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
        </div>
        <div class="question-container" id="questionContainer">
            <!-- Content will be dynamically inserted here -->
        </div>
    </div>

    <script>
        const questions = [
            {
                type: 'age',
                question: "Qual é sua faixa etária?",
                subtitle: "Para oferecermos a melhor solução personalizada para você",
                options: [
                    { text: "30-40 anos", image: "https://www.cnnbrasil.com.br/wp-content/uploads/sites/12/2023/06/india.webp?w=495" },
                    { text: "41-50 anos", image: "https://img.freepik.com/fotos-premium/homem-de-terno-e-gravata-posando-para-uma-foto-ia-geradora_97167-19520.jpg" },
                    { text: "51-60 anos", image: "https://img.freepik.com/fotos-premium/homem-velho-feliz-observando-residencia-ia-gerativa_94628-7061.jpg?w=360" },
                    { text: "60+ anos", image: "https://d1muf25xaso8hp.cloudfront.net/https://img.criativodahora.com.br/2025/01/criativo-67808e3d1342aimg-2025-01-1067808e3d1342e.jpg?w=380&h=&auto=compress&dpr=1&fit=max" }
                ]
            },
            {
                type: 'success',
                question: "Você sabia?",
                subtitle: "Mais de 14.000 homens da sua faixa etária já recuperaram a própria libido de maneira natural e rápida! E voltaram a ter sua vida sexual mais ativa do que na juventude",
                content: "Entenda o por que nossa solução foi capaz de ajudar todos esses homens, sem causar nenhum efeito colateral e sendo mais eficaz do que qualquer método existente.",
                image: "https://img.freepik.com/fotos-premium/um-homem-feliz-e-alegre-irradiando-energia-positiva-ia-generativa_888418-14329.jpg"
            },
            {
                type: 'treatment',
                question: "Qual tratamento você utiliza atualmente?",
                subtitle: "Nos ajude a entender melhor sua situação",
                options: [
                    { text: "Medicamentos", icon: "💊" },
                    { text: "Suplementos", icon: "🌿" },
                    { text: "Não faço tratamento", icon: "❌" },
                    { text: "Atividade Física", icon: "🏃‍♂️" }
                ]
            },
            {
                type: 'frequency',
                question: "Com que frequência você tem relações com sua parceira?",
                subtitle: "Sua resposta é confidencial e nos ajuda a personalizar sua solução",
                options: [
                    { text: "Raramente ou nunca", icon: "😔" },
                    { text: "1-2 vezes por mês", icon: "😐" },
                    { text: "1-2 vezes por semana", icon: "🙂" },
                    { text: "3+ vezes por semana", icon: "😄" }
                ]
            },
            {
                type: 'success',
                question: "Analisamos suas perguntas e chegou a hora de resolver esse problema de uma vez por todas!",
                subtitle: "Clique no botão abaixo e descubra como milhares de homens assim como você recuperaram sua disposição e confiança na cama em menos de 2 semanas",
                buttonText: "Quero descobrir a solução!",
                content: "Volte a ter uma libido avassaladora e durar horas na cama com sua parceira!",
                image: "https://imagex1.sx.cdn.live/images/pinporn/2019/12/03/22268284.gif?width=300"
            },
            {
                type: 'news',
                isLastQuestion: true,
                buttonText: "Quero recuperar minha disposição agora!",
                content: `<main class="news-container">
            <div class="news-header">
                <div class="news-logo">
                    <img class="news-logo-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Men%27s_Health.svg/1024px-Men%27s_Health.svg.png" alt="Logo">
                </div>
                <div class="news-meta">
                    <span class="news-source">Saúde & Bem-estar</span>
                    <span class="news-date">Publicado em 28 de Janeiro de 2024 • Atualizado há 2 dias</span>
                </div>
            </div>
            
            <h1 class="news-headline">Descoberta Revolucionária: Cientistas Brasileiros Desenvolvem Solução Natural para Potência Masculina</h1>
            
            <div class="news-authors">
                <div class="author-info">
                </div>
                <div class="news-share">
                    <span class="share-count">12.4k compartilhamentos</span>
                </div>
            </div>

            <figure class="news-hero">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Men%27s_Health.svg/1024px-Men%27s_Health.svg.png" alt="Laboratório de Pesquisa" class="hero-img">
                <figcaption>Equipe de pesquisadores no laboratório onde a descoberta foi realizada</figcaption>
            </figure>

            <div class="news-content">
                <div class="key-points">
                    <h3>Pontos Principais:</h3>
                    <ul>
                        <li>Fórmula natural desenvolvida após 5 anos de pesquisa</li>
                        <li>92% de eficácia comprovada em estudos clínicos</li>
                        <li>Zero efeitos colaterais relatados</li>
                        <li>Já ajudou mais de 14.000 homens no Brasil</li>
                    </ul>
                </div>

                <p class="news-excerpt">
                    Uma equipe de cientistas brasileiros acaba de anunciar uma descoberta que está revolucionando a saúde masculina: uma fórmula 100% natural que atua diretamente na causa raiz dos problemas de disposição masculina.
                </p>

                <div class="research-highlight">
                    <div class="stat-circle">
                        <div class="stat-number">92%</div>
                        <div class="stat-label">Taxa de Sucesso</div>
                    </div>
                    <div class="stat-circle">
                        <div class="stat-number">30</div>
                        <div class="stat-label">Dias para Resultado</div>
                    </div>
                    <div class="stat-circle">
                        <div class="stat-number">14mil+</div>
                        <div class="stat-label">Homens Beneficiados</div>
                    </div>
                </div>

                <blockquote class="expert-quote">
                    <p>"Esta descoberta representa um avanço significativo na saúde masculina. Pela primeira vez, temos uma solução que trata a causa raiz do problema, não apenas os sintomas."</p>
                    <cite>- Dr. Paulo Mendes, Especialista em Saúde Masculina</cite>
                </blockquote>

                <div class="study-results">
                    <h3>Resultados Comprovados</h3>
                    <div class="result-bars">
                        <div class="result-bar">
                            <div class="bar-label">Aumento na Disposição</div>
                            <div class="bar-track">
                                <div class="bar-fill" style="width: 94%">94%</div>
                            </div>
                        </div>
                        <div class="result-bar">
                            <div class="bar-label">Melhora na Confiança</div>
                            <div class="bar-track">
                                <div class="bar-fill" style="width: 89%">89%</div>
                            </div>
                        </div>
                        <div class="result-bar">
                            <div class="bar-label">Satisfação Geral</div>
                            <div class="bar-track">
                                <div class="bar-fill" style="width: 96%">96%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="testimonial-section">
                    <h3>Depoimentos</h3>
                    <div class="testimonial-grid">
                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <img src="https://static.vecteezy.com/ti/fotos-gratis/p2/30865630-a-mais-velho-homem-em-pe-em-uma-sujeira-estrada-gerado-por-ia-foto.jpg" alt="João Silva" class="testimonial-img">
                                <div class="testimonial-info">
                                    <strong>João Silva, 52 anos</strong>
                                    <div class="rating">★★★★★</div>
                                </div>
                            </div>
                            <p>"Recuperei minha confiança e em apenas 3 semanas minha mulher tava pedindo arrego, era pelo menos 3 vezes ao dia e ela tava maluca por mais. É incrível como o ErecBoost mudou minha vida!"</p>
                        </div>
                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLvQRXh1NTTOhzxoBzF780TBsjJmkru9kydw&s" alt="Carlos Mendes" class="testimonial-img">
                                <div class="testimonial-info">
                                    <strong>Carlos Mendes, 48 anos</strong>
                                    <div class="rating">★★★★★</div>
                                </div>
                            </div>
                            <p>"Meu relacionamento mudou completamente. Me sinto 20 anos mais jovem e cheio de libido! Só tenho a agradecer pelo ErecBoost"</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>`
            }
        ];

        let currentQuestion = 0;
        const progressBar = document.getElementById('progress');
        const questionContainer = document.getElementById('questionContainer');

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function createQuestionElement(question) {
            return `
                ${question.type !== 'news' ? `
                    <h2 class="question">${question.question}</h2>
                    ${question.subtitle ? `<p class="subtitle">${question.subtitle}</p>` : ''}
                ` : ''}
                ${getQuestionContent(question)}
                <button class="next-btn" id="nextBtn" ${question.type === 'age' || question.type === 'treatment' || question.type === 'frequency' ? 'disabled' : ''}>
                    ${question.buttonText || 'Continuar'}
                </button>
            `;
        }

        function getQuestionContent(question) {
            switch(question.type) {
                case 'age':
                case 'treatment':
                case 'frequency':
                    return `
                        <div class="options-grid">
                            ${question.options.map(option => `
                                <div class="option-card" role="button" tabindex="0">
                                    ${option.image ? 
                                        `<img src="${option.image}" alt="${option.text}" class="option-image" loading="lazy">` :
                                        `<div class="option-icon">${option.icon}</div>`
                                    }
                                    <div class="option-text">${option.text}</div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                case 'success':
                    return `
                        <div class="success-story">
                            <div class="success-icon">🔥</div>
                            <p class="success-text">${question.content}</p>
                            ${question.image ? `<img src="${question.image}" alt="Success Story" class="success-image" loading="lazy">` : ''}
                        </div>
                    `;
                case 'news':
                    return question.content;
                default:
                    return '';
            }
        }

        function loadQuestion() {
            updateProgress();
            questionContainer.innerHTML = createQuestionElement(questions[currentQuestion]);
            
            if (questions[currentQuestion].type === 'age' || 
                questions[currentQuestion].type === 'treatment' || 
                questions[currentQuestion].type === 'frequency') {
                
                const optionCards = document.querySelectorAll('.option-card');
                optionCards.forEach(card => {
                    card.addEventListener('click', () => selectOption(card));
                    card.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            selectOption(card);
                            e.preventDefault();
                        }
                    });
                });
            }

            const nextBtn = document.getElementById('nextBtn');
            nextBtn.addEventListener('click', nextQuestion);
        }

        function selectOption(selectedCard) {
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
                card.setAttribute('aria-selected', 'false');
            });
            selectedCard.classList.add('selected');
            selectedCard.setAttribute('aria-selected', 'true');
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Prevent zoom on double tap in iOS
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        // Prevent scrolling when touching the quiz container on mobile
        document.querySelector('.quiz-container').addEventListener('touchmove', function(e) {
            if (e.target.closest('.option-card')) {
                e.preventDefault();
            }
        }, { passive: false });

        // Add animation when elements appear
        function addAnimationToElements() {
            const elements = document.querySelectorAll('.option-card, .success-story, .news-container');
            elements.forEach(element => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(20px)';
                requestAnimationFrame(() => {
                    element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                });
            });
        }

        // Handle window resize
        function handleResize() {
            const container = document.querySelector('.quiz-container');
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
            container.style.minHeight = window.innerHeight > 700 ? '700px' : '100vh';
        }

        window.addEventListener('resize', handleResize);
        window.addEventListener('orientationchange', handleResize);

        // Initialize quiz
        document.addEventListener('DOMContentLoaded', function() {
            handleResize();
            loadQuestion();
            addAnimationToElements();
        });
    </script>
</body>
</html>
